CREATE TABLE KHACH_HANG(
    ID INT NOT NULL PRIMARY KEY,
    SO_DIEN_THOAI VARCHAR(15),
    NGAY_THAM_GIA DATE,
    TEN NVARCHAR2(50)
);


CREATE TABLE DIA_CHI_KHACH_HANG(
    ID INT NOT NULL PRIMARY KEY,
    DIA_CHI NVARCHAR2(50),
    MAC_DINH NUMBER
);

CREATE TABLE CHI_TIET_DIA_CHI(
    ID_DC NUMBER NOT NULL,
    ID_KH NUMBER NOT NULL
);

ALTER TABLE CHI_TIET_DIA_CHI ADD CONSTRAINT PK_DCKH PRIMARY KEY (ID_DC,ID_KH);


CREATE TABLE CHUONG_TRINH_KM(
    ID INT NOT NULL PRIMARY KEY,
    MO_TA NVARCHAR2(100),
    NGAY_BAT_DAU DATE,
    NGAY_KET_THUC DATE,
    MA_GIAM_GIA VARCHAR2(10),
    PHAN_TRAM_GIAM_GIA INT
);

CREATE TABLE KM_DON_HANG(
    ID_DON INT NOT NULL,
    ID_KM INT NOT NULL
);

ALTER TABLE KM_DON_HANG ADD CONSTRAINT PK_DISC PRIMARY KEY (ID_DON,ID_KM);


CREATE TABLE DON_HANG(
    ID INT NOT NULL PRIMARY KEY,
    ID_KH INT,
    ID_KM INT,
    ID_DIA_CHI INT,
    ID_THU_NGAN INT,
    TONG_TIEN INT,
    SO_BAN_TAO_DON INT,
    HINH_THUC_THANH_TOAN NVARCHAR2(20),
    TRANG_THAI VARCHAR(50),
    DAT_ONLINE INT,
    NGAY_DAT DATE,
    GHI_CHU NVARCHAR2(100)
);

CREATE TABLE MON_AN(
    ID INT NOT NULL PRIMARY KEY,
    TEN_MON NVARCHAR2(50),
    MO_TA NVARCHAR2(200),
    LOAI VARCHAR(20),	
    HINH_ANH BLOB
);



CREATE TABLE CHITIET_DON(
ID_DON NUMBER NOT NULL,
ID_MON NUMBER NOT NULL,
SOLUONG NUMBER
);

ALTER TABLE CHITIET_DON ADD CONSTRAINT PK_DM PRIMARY KEY (ID_DON,ID_MON);
ALTER TABLE CHITIET_DON ADD CONSTRAINT FK_DM FOREIGN KEY(ID_MON) REFERENCES MON_AN(ID);
ALTER TABLE CHITIET_DON ADD CONSTRAINT FK_DH FOREIGN KEY (ID_DON) REFERENCES DON_HANG(ID);

CREATE TABLE NGUYEN_LIEU(
    ID INT NOT NULL PRIMARY KEY,
    TEN NVARCHAR2(100),
    DON_VI VARCHAR(20),
    SO_LUONG_TRONG_KHO INT,
    GIA_NL NUMBER
);

CREATE TABLE NGUYEN_LIEU_MON_AN(
    ID_NL INT NOT NULL,
    ID_MON INT NOT NULL,
    SO_LUONG INT
);

ALTER TABLE NGUYEN_LIEU_MON_AN ADD CONSTRAINT PK_NLMA PRIMARY KEY (ID_NL,ID_MON);

CREATE TABLE NHA_CUNG_CAP(
    ID INT NOT NULL PRIMARY KEY,
    TEN NVARCHAR2(30),
    SO_DIEN_THOAI VARCHAR(11),
    EMAIL VARCHAR(50),
    DIA_CHI NVARCHAR2(100)
);

CREATE TABLE NHAN_VIEN(
    ID INT NOT NULL PRIMARY KEY,
    TEN NVARCHAR2(40),
    SO_DIEN_THOAI VARCHAR(15),
    CHUC_VU VARCHAR(50),
    LUONG NUMBER,
    ID_QUAN_LY INT
);


CREATE TABLE NHACUNGCAP_NGUYENLIEU_QUANLY_BEP(
    ID_NL INT NOT NULL,
    ID_NCC INT NOT NULL,
    ID_QUAN_LY INT NOT NULL,
    ID_BEP INT NOT NULL,
    NGAY_NL_NHAP_KHO DATE
);

ALTER TABLE NHACUNGCAP_NGUYENLIEU_QUANLY_BEP ADD CONSTRAINT PK_NCCNLQLB PRIMARY KEY (ID_NL,ID_NCC,ID_QUAN_LY,ID_BEP);



--khoa ngoai    
--bang CHI_TIET_DIA_CHI
ALTER TABLE CHI_TIET_DIA_CHI ADD CONSTRAINT FK_CHI_TIET_DIA_CHI__HANG 
    FOREIGN KEY (ID_KH) REFERENCES KHACH_HANG(ID);
ALTER TABLE CHI_TIET_DIA_CHI ADD CONSTRAINT FK_DIA_CHI_KHACH_HANG_CHI_TIET_DIA_CHI 
    FOREIGN KEY (ID_DC) REFERENCES  DIA_CHI_KHACH_HANG(ID);
--bang don hang
ALTER TABLE DON_HANG ADD CONSTRAINT FK_DON_HANG_KHACH_HANG 
    FOREIGN KEY (ID_KH) REFERENCES KHACH_HANG(ID);

ALTER TABLE DON_HANG ADD CONSTRAINT FK_DON_HANG_CHUONG_TRINH_KM 
    FOREIGN KEY (ID_KM) REFERENCES CHUONG_TRINH_KM(ID);

ALTER TABLE DON_HANG ADD CONSTRAINT FK_DON_HANG_CHI_TIET_DIA_CHI 
    FOREIGN KEY (ID_DIA_CHI) REFERENCES DIA_CHI_KHACH_HANG(ID);

    ALTER TABLE DON_HANG ADD CONSTRAINT FK_DON_HANG_NHAN_VIEN_THU_NGAN 
    FOREIGN KEY (ID_THU_NGAN) REFERENCES NHAN_VIEN(ID);


--bang KM_DON_HANG

ALTER TABLE KM_DON_HANG ADD CONSTRAINT FK_DISCOUNT_DON_HANG 
    FOREIGN KEY (ID_DON) REFERENCES DON_HANG(ID);

ALTER TABLE KM_DON_HANG ADD CONSTRAINT FK_DISCOUNT_CHUONG_TRINH_KM 
    FOREIGN KEY (ID_KM) REFERENCES CHUONG_TRINH_KM(ID);




--bang Nguyen lieu mon an
ALTER TABLE NGUYEN_LIEU_MON_AN
ADD CONSTRAINT FK_NLMA_NL FOREIGN KEY (ID_NL)
REFERENCES NGUYEN_LIEU(ID);

ALTER TABLE NGUYEN_LIEU_MON_AN
ADD CONSTRAINT FK_NLMA_MON FOREIGN KEY (ID_MON)
REFERENCES MON_AN(ID);

-- bang nha cung cap nguyen lieu
ALTER TABLE NHACUNGCAP_NGUYENLIEU_QUANLY_BEP
ADD CONSTRAINT FK_NL_NCC
FOREIGN KEY (ID_NL)
REFERENCES NGUYEN_LIEU(ID);

ALTER TABLE NHACUNGCAP_NGUYENLIEU_QUANLY_BEP
ADD CONSTRAINT FK_NL_QUANLY
FOREIGN KEY (ID_QUAN_LY)
REFERENCES NHAN_VIEN(ID);

ALTER TABLE NHACUNGCAP_NGUYENLIEU_QUANLY_BEP
ADD CONSTRAINT FK_NCC
FOREIGN KEY (ID_NCC)
REFERENCES NHA_CUNG_CAP(ID);



--them du lieu mau

--------------------------------------------------------------------------------
INSERT INTO KHACH_HANG(ID, SO_DIEN_THOAI, NGAY_THAM_GIA, TEN)
VALUES (1, '0987654321', TO_DATE('2022-01-01', 'YYYY-MM-DD'), 'Nguyen Van A');

INSERT INTO KHACH_HANG(ID, SO_DIEN_THOAI, NGAY_THAM_GIA, TEN)
VALUES (2, '0123456789', TO_DATE('2022-02-01', 'YYYY-MM-DD'), 'Tran Thi B');
--------------------------------------------------------------------------------
INSERT INTO DIA_CHI_KHACH_HANG(ID, DIA_CHI, MAC_DINH)
VALUES (1, '123 Le Loi, Quan 1', 0);

INSERT INTO DIA_CHI_KHACH_HANG(ID, DIA_CHI, MAC_DINH)
VALUES (2, '456 Nguyen Trai, Quan 5', 1);
--------------------------------------------------------------------------------
INSERT INTO CHI_TIET_DIA_CHI(
    ID_KH,
    ID_DC
) VALUES (
    1,
    1
);

INSERT INTO CHI_TIET_DIA_CHI(
    ID_KH,
    ID_DC
) VALUES (
    2,
    2
);
--------------------------------------------------------------------------------
INSERT INTO CHUONG_TRINH_KM (ID, MO_TA, NGAY_BAT_DAU, NGAY_KET_THUC, MA_GIAM_GIA, PHAN_TRAM_GIAM_GIA)
VALUES (1, 'Giảm giá 10% cho đơn hàng trên 1 triệu đồng', SYSDATE, SYSDATE+30, 'GIAM10', 10);

INSERT INTO CHUONG_TRINH_KM (ID, MO_TA, NGAY_BAT_DAU, NGAY_KET_THUC, MA_GIAM_GIA, PHAN_TRAM_GIAM_GIA)
VALUES (2, 'Miễn phí vận chuyển cho đơn hàng trên 500 ngàn đồng', SYSDATE-10, SYSDATE+20, 'FREESHIP', 0);
--------------------------------------------------------------------------------
INSERT INTO MON_AN(ID, TEN_MON, MO_TA, LOAI) 
VALUES (1, 'Hamburger', 'Món bánh mì kẹp thịt bò, rau và sốt, thường được kết hợp với khoai tây chiên.', 'Fast food');

INSERT INTO MON_AN(ID, TEN_MON, MO_TA, LOAI) 
VALUES (2, 'Pizza', 'Bánh pizza với nhiều loại nhân khác nhau, như xúc xích, thịt hun khói, rau, nấm và phô mai.', 'Fast food');

INSERT INTO MON_AN(ID, TEN_MON, MO_TA, LOAI) 
VALUES (3, 'Fried chicken', 'Gà rán giòn được chiên trong dầu nóng.', 'Fast food');

INSERT INTO MON_AN(ID, TEN_MON, MO_TA, LOAI) 
VALUES (4, 'French fries', 'Khoai tây chiên giòn.', 'Fast food');
--------------------------------------------------------------------------------
INSERT INTO NGUYEN_LIEU(ID, TEN, DON_VI, SO_LUONG_TRONG_KHO, GIA_NL) 
VALUES (1, 'Thịt bò', 'gram', 1000, 145);

INSERT INTO NGUYEN_LIEU(ID, TEN, DON_VI, SO_LUONG_TRONG_KHO, GIA_NL) 
VALUES (2, 'Rau', 'gram', 2000, 10);

INSERT INTO NGUYEN_LIEU(ID, TEN, DON_VI, SO_LUONG_TRONG_KHO, GIA_NL) 
VALUES (3, 'Sốt', 'chai', 10, 50000);

INSERT INTO NGUYEN_LIEU(ID, TEN, DON_VI, SO_LUONG_TRONG_KHO, GIA_NL) 
VALUES (4, 'Bột nở', 'gram', 500, 55);

INSERT INTO NGUYEN_LIEU(ID, TEN, DON_VI, SO_LUONG_TRONG_KHO, GIA_NL) 
VALUES (5, 'Thịt xúc xích', 'gram', 1500, 50);

INSERT INTO NGUYEN_LIEU(ID, TEN, DON_VI, SO_LUONG_TRONG_KHO, GIA_NL) 
VALUES (6, 'Thịt hun khói', 'gram', 1000, 80);

INSERT INTO NGUYEN_LIEU(ID, TEN, DON_VI, SO_LUONG_TRONG_KHO, GIA_NL) 
VALUES (7, 'Rau trộn', 'gram', 3000, 10);

INSERT INTO NGUYEN_LIEU(ID, TEN, DON_VI, SO_LUONG_TRONG_KHO, GIA_NL) 
VALUES (8, 'Sốt cà chua', 'chai', 20, 50000);

INSERT INTO NGUYEN_LIEU(ID, TEN, DON_VI, SO_LUONG_TRONG_KHO, GIA_NL) 
VALUES (9, 'Gà', 'con', 50, 150000);

INSERT INTO NGUYEN_LIEU(ID, TEN, DON_VI, SO_LUONG_TRONG_KHO, GIA_NL) 
VALUES (10, 'Bột chiên xù', 'gram', 1000, 50000);

INSERT INTO NGUYEN_LIEU(ID, TEN, DON_VI, SO_LUONG_TRONG_KHO, GIA_NL) 
VALUES (11, 'Khoai tây', 'gram', 5000, 40);
--------------------------------------------------------------------------------
-- Hamburger
INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (1, 1, 150);

INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (2, 1, 100);

INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (3, 1, 5);

INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (4, 1, 200);

INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (10, 1, 200);

INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (11, 1, 500);

-- Pizza
INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (4, 2, 300);

INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (5, 2, 500);

INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (6, 2, 300);

INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (7, 2, 200);

INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (8, 2, 20);

INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (11, 2, 500);

-- Fried chicken
INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (9, 3, 1);

INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (10, 3, 300);

-- French fries
INSERT INTO NGUYEN_LIEU_MON_AN(ID_NL, ID_MON, SO_LUONG)
VALUES (11, 4, 500);
--------------------------------------------------------------------------------
INSERT INTO NHA_CUNG_CAP(ID, TEN, SO_DIEN_THOAI, EMAIL, DIA_CHI)
VALUES (1, 'Nhà cung cấp thịt bò XYZ', '0987654321', 'thitboxyz@gmail.com', '123 Đường ABC, Quận 1, TP. Hồ Chí Minh');

INSERT INTO NHA_CUNG_CAP(ID, TEN, SO_DIEN_THOAI, EMAIL, DIA_CHI)
VALUES (2, 'Nhà cung cấp rau xanh ABC', '0123456789', 'rauxanhabc@gmail.com', '456 Đường DEF, Quận 2, TP. Hồ Chí Minh');

INSERT INTO NHA_CUNG_CAP(ID, TEN, SO_DIEN_THOAI, EMAIL, DIA_CHI)
VALUES (3, 'Nhà cung cấp sốt GHI', '0987654321', 'sotghi@gmail.com', '789 Đường GHI, Quận 3, TP. Hồ Chí Minh');

INSERT INTO NHA_CUNG_CAP(ID, TEN, SO_DIEN_THOAI, EMAIL, DIA_CHI)
VALUES (4, 'Nhà cung cấp thịt xúc xích JK', '0123456789', 'thitxucxichjk@gmail.com', '1011 Đường JKL, Quận 4, TP. Hồ Chí Minh');

INSERT INTO NHA_CUNG_CAP(ID, TEN, SO_DIEN_THOAI, EMAIL, DIA_CHI)
VALUES (5, 'Nhà cung cấp sốt cà chua MNO', '0987654321', 'sotcachua.mno@gmail.com', '1213 Đường MNO, Quận 5, TP. Hồ Chí Minh');
--------------------------------------------------------------------------------
INSERT INTO NHAN_VIEN (ID, TEN, SO_DIEN_THOAI, CHUC_VU, LUONG, ID_QUAN_LY) VALUES
  (1, 'Nguyen Van A', '0987654321', 'Quản lý', 15000000, NULL);

INSERT INTO NHAN_VIEN (
    ID,
    TEN,
    SO_DIEN_THOAI,
    CHUC_VU,
    LUONG,
    ID_QUAN_LY
) VALUES (
    2,
    'Tran Thi B',
    '0912345678',
    'Đầu bếp',
    12000000,
    1
);

INSERT INTO NHAN_VIEN (
    ID,
    TEN,
    SO_DIEN_THOAI,
    CHUC_VU,
    LUONG,
    ID_QUAN_LY
) VALUES (
    3,
    'Le Van C',
    '0965432198',
    'Thu ngân',
    8000000,
    1
);

INSERT INTO NHAN_VIEN (
    ID,
    TEN,
    SO_DIEN_THOAI,
    CHUC_VU,
    LUONG,
    ID_QUAN_LY
) VALUES (
    4,
    'Nguyen Thi D',
    '0932176543',
    'Thu ngân',
    8000000,
    1
);

INSERT INTO NHAN_VIEN (
    ID,
    TEN,
    SO_DIEN_THOAI,
    CHUC_VU,
    LUONG,
    ID_QUAN_LY
) VALUES (
    5,
    'Hoang Van E',
    '0987654321',
    'Quản lý',
    15000000,
    NULL
);

INSERT INTO NHAN_VIEN (
    ID,
    TEN,
    SO_DIEN_THOAI,
    CHUC_VU,
    LUONG,
    ID_QUAN_LY
) VALUES (
    6,
    'Tran Van F',
    '0912345678',
    'Đầu bếp',
    12000000,
    5
);

INSERT INTO NHAN_VIEN (
    ID,
    TEN,
    SO_DIEN_THOAI,
    CHUC_VU,
    LUONG,
    ID_QUAN_LY
) VALUES (
    7,
    'Le Thi G',
    '0965432198',
    'Thu ngân',
    8000000,
    5
);

INSERT INTO NHAN_VIEN (
    ID,
    TEN,
    SO_DIEN_THOAI,
    CHUC_VU,
    LUONG,
    ID_QUAN_LY
) VALUES (
    8,
    'Nguyen Van H',
    '0932176543',
    'Thu ngân',
    8000000,
    5
);

INSERT INTO NHAN_VIEN (
    ID,
    TEN,
    SO_DIEN_THOAI,
    CHUC_VU,
    LUONG,
    ID_QUAN_LY
) VALUES (
    9,
    'Pham Thi I',
    '0987654321',
    'Quản lý',
    15000000,
    NULL
);

INSERT INTO NHAN_VIEN (
    ID,
    TEN,
    SO_DIEN_THOAI,
    CHUC_VU,
    LUONG,
    ID_QUAN_LY
) VALUES (
    10,
    'Nguyen Van K',
    '0912345678',
    'Đầu bếp',
    12000000,
    9
);
--------------------------------------------------------------------------------
INSERT INTO DON_HANG(ID, ID_KH, ID_KM, ID_DIA_CHI, ID_THU_NGAN, TONG_TIEN, SO_BAN_TAO_DON, HINH_THUC_THANH_TOAN, TRANG_THAI, DAT_ONLINE, NGAY_DAT, GHI_CHU)
VALUES (1, 1, 1, 2, 3, 110000, 2, 'Tiền mặt', 'Đã thanh toán', 0, TO_DATE('2023-04-14', 'YYYY-MM-DD'), 'Không có');

INSERT INTO DON_HANG(ID, ID_KH, ID_KM, ID_DIA_CHI, ID_THU_NGAN, TONG_TIEN, SO_BAN_TAO_DON, HINH_THUC_THANH_TOAN, TRANG_THAI, DAT_ONLINE, NGAY_DAT, GHI_CHU)
VALUES (2, 2, 2, 1, 4, 300000, 3, 'Tiền mặt', 'Đã thanh toán', 0, TO_DATE('2023-04-14', 'YYYY-MM-DD'), 'Giao hàng sớm hơn dự kiến 15 phút');

INSERT INTO DON_HANG(ID, ID_KH, ID_KM, ID_DIA_CHI, ID_THU_NGAN, TONG_TIEN, SO_BAN_TAO_DON, HINH_THUC_THANH_TOAN, TRANG_THAI, DAT_ONLINE, NGAY_DAT, GHI_CHU)
VALUES (3, 1, NULL, 1, 3, 90000, 1, 'Tiền mặt', 'Đã thanh toán', 0, TO_DATE('2023-04-14', 'YYYY-MM-DD'), 'Không có');

INSERT INTO DON_HANG(ID, ID_KH, ID_KM, ID_DIA_CHI, ID_THU_NGAN, TONG_TIEN, SO_BAN_TAO_DON, HINH_THUC_THANH_TOAN, TRANG_THAI, DAT_ONLINE, NGAY_DAT, GHI_CHU)
VALUES (4, 2, NULL, 2, 4, 250000, 2, 'Tiền mặt', 'Đã thanh toán', 0, TO_DATE('2023-04-14', 'YYYY-MM-DD'), 'Không có');

INSERT INTO DON_HANG(ID, ID_KH, ID_KM, ID_DIA_CHI, ID_THU_NGAN, TONG_TIEN, SO_BAN_TAO_DON, HINH_THUC_THANH_TOAN, TRANG_THAI, DAT_ONLINE, NGAY_DAT, GHI_CHU)
VALUES (5, 1, NULL, 2, 3, 150000, 2, 'Tiền mặt', 'Đã thanh toán', 1, SYSDATE, 'Ghi chú cho đơn hàng 5');
------------------------------------------------------------------------------T--
INSERT INTO KM_DON_HANG(ID_DON, ID_KM)
VALUES (5, 1);
--------------------------------------------------------------------------------
INSERT INTO CHITIET_DON(ID_DON, ID_MON, SOLUONG)
VALUES (1, 2, 2);

INSERT INTO CHITIET_DON(ID_DON, ID_MON, SOLUONG)
VALUES (1, 3, 1);

INSERT INTO CHITIET_DON(ID_DON, ID_MON, SOLUONG)
VALUES (1, 1, 3);

INSERT INTO CHITIET_DON(ID_DON, ID_MON, SOLUONG)
VALUES (2, 1, 2);

INSERT INTO CHITIET_DON(ID_DON, ID_MON, SOLUONG)
VALUES (2, 4, 1);

INSERT INTO CHITIET_DON(ID_DON, ID_MON, SOLUONG)
VALUES (3, 3, 2);

INSERT INTO CHITIET_DON(ID_DON, ID_MON, SOLUONG)
VALUES (3, 1, 1);

INSERT INTO CHITIET_DON(ID_DON, ID_MON, SOLUONG)
VALUES (4, 1, 2);

INSERT INTO CHITIET_DON(ID_DON, ID_MON, SOLUONG)
VALUES (4, 2, 1);

INSERT INTO CHITIET_DON(ID_DON, ID_MON, SOLUONG)
VALUES (5, 3, 1);

<<<<<<< HEAD
--create view


CREATE VIEW XU_LY_DON_HANG AS
    SELECT
        DON_HANG.ID,
        DON_HANG.ID_KH             AS ID_KH,
        KHACH_HANG.TEN             AS TEN_KH,
        DON_HANG.ID_THU_NGAN       AS ID_TN,
        NHAN_VIEN.TEN              AS TEN_TN,
        DIA_CHI_KHACH_HANG.ID      AS DIA_CHI_ID,
        DIA_CHI_KHACH_HANG.DIA_CHI AS DIA_CHI,
        DON_HANG.SO_BAN_TAO_DON,
        DON_HANG.TONG_TIEN,
        DON_HANG.HINH_THUC_THANH_TOAN,
        DON_HANG.TRANG_THAI,
        DON_HANG.DAT_ONLINE,
        DON_HANG.NGAY_DAT,
        DON_HANG.GHI_CHU
    FROM
        DON_HANG
        JOIN KHACH_HANG
        ON DON_HANG.ID_KH = KHACH_HANG.ID JOIN NHAN_VIEN
        ON DON_HANG.ID_THU_NGAN = NHAN_VIEN.ID
        JOIN DIA_CHI_KHACH_HANG
        ON DON_HANG.ID_DIA_CHI = DIA_CHI_KHACH_HANG.ID;
SELECT
    *
FROM
    XU_LY_DON_HANG;
=======
CREATE TABLE TAIKHOAN_NV(
    USERNAME VARCHAR(50) NOT NULL PRIMARY KEY,
    PASSWORD VARCHAR(50),
    ID_NV INT
);

ALTER TABLE TAIKHOAN_NV ADD CONSTRAINT FK_TAI_KHOAN_NHAN_VIEN FOREIGN KEY(ID_NV) REFERENCES NHAN_VIEN(ID);

>>>>>>> 022578ee0800b43c3c858e115bd7c775eb540bff
